!function(t){let e=function(){if(molongui_bump_offer_bump_params.qty_input_hide){let e=/molongui_added_order_bump_[^;]+=([^;]+)/g,o=[...document.cookie.matchAll(e)];0!==o.length&&o.forEach(function(e,o){let r=e[1];if(r){let e=t("input[name='cart["+r+"][qty]");e&&(e.hide(),e.closest(molongui_bump_offer_bump_params.qty_parent_class).hide(),e.prev(molongui_bump_offer_bump_params.qty_prev_class).hide(),e.next(molongui_bump_offer_bump_params.qty_next_class).hide())}})}},o=function(){return molongui_bump_offer_bump_params.is_https?" secure":""},r=function(t,e){t.attr("data-cart-item-key",e),document.cookie="molongui_removed_order_bump_"+t.attr("data-bump-id")+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; samesite=strict;"+o()},c=function(t,e){document.cookie="molongui_added_order_bump_"+t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; samesite=strict;"+o(),document.cookie="molongui_removed_order_bump_"+t+"="+e+"; expires=0; path=/; samesite=strict;"+o()};e(),t.each(t(".molongui-bump"),function(e){let o="molongui_added_order_bump_"+t(this).data("bump-id"),r=document.cookie.match(RegExp("^(?:.*;)?\\s*"+o+"\\s*=\\s*([^;]+)(?:.*)?$"));if(null!==r&&(r=r[1]),r){let e=t(this).find(".molongui-bump-checkbox input");!1===e.prop("checked")&&(e.prop("checked",!0),e.attr("data-cart-item-key",r))}}),t(document).on("change",".molongui-bump-checkbox input",function(e){let o=t(this),a=o.closest(".molongui-bump"),m={bump_id:a.data("bump-id"),product_id:a.data("bump-product"),product_price:a.data("bump-price"),product_qty:a.data("bump-quantity")},u=t("body.woocommerce-checkout").length?"checkout":t("body.woocommerce-cart").length?"cart":"";var i;return o.prop("disabled",!0),"cart"===u&&(function(t){return t.is(".processing")||t.parents(".processing").length}(i=t(".shop_table"))||i.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})),this.checked?(t(".molongui-bump-checkbox input[data-bump-id="+m.bump_id+"]").prop("checked",!0),o.closest(".molongui-bump-lead").find(".molongui-bump-lead-text").hide(),o.closest(".molongui-bump-lead").find(".molongui-bump-lead-text-alt").show(),function(e,o,r){return new Promise((c,a)=>{let m={action:"mbo_ajax_add_to_cart",bump_id:e.bump_id,product_id:e.product_id,product_price:e.product_price,product_qty:e.product_qty};"cart"===o&&t(document.body).trigger("adding_to_cart",[r,m]),t.ajax({type:"post",url:woocommerce_params.ajax_url,data:m,success:function(t){c(t)},error:function(t){a(t)}})})}(m,u,o).then(function(e){!function(e,o,c){r(c,e.added_item_key),"checkout"===o&&t("form.checkout").length?t("form.checkout").trigger("update"):"cart"===o&&t("form.woocommerce-cart-form").length?t(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,c]):""===o&&t(document.body).trigger("wc_fragment_refresh"),c.prop("checked",!0)}(e,u,o),o.prop("disabled",!1)})):(t(".molongui-bump-checkbox input[data-bump-id="+m.bump_id+"]").prop("checked",!1),o.closest(".molongui-bump-lead").find(".molongui-bump-lead-text").show(),o.closest(".molongui-bump-lead").find(".molongui-bump-lead-text-alt").hide(),t.post(woocommerce_params.wc_ajax_url.toString().replace("%%endpoint%%","remove_from_cart"),{cart_item_key:o.data("cart-item-key")},function(e){e&&(e&&e.fragments?(c(o.attr("data-bump-id"),o.attr("data-cart-item-key")),o.attr("data-cart-item-key",""),"checkout"===u&&t("form.checkout").length?t("form.checkout").trigger("update"):"cart"===u&&t("form.woocommerce-cart-form").length?(t(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,o]),t(document.body).trigger("removed_from_cart",[e.fragments,e.cart_hash,o])):""===u&&t(document.body).trigger("wc_fragment_refresh"),o.prop("checked",!1),o.prop("disabled",!1)):window.location=o.attr("href"))}).fail(function(){window.location=o.attr("href")})),!1}),t(document).on("click",".product-remove a.remove, .remove.remove_from_cart_button",function(e){let o=t(this).attr("href").split("?remove_item=")[1].split("&_wpnonce=")[0],r=t('.molongui-bump-checkbox input[data-cart-item-key="'+o+'"]');r.length&&(r.removeClass("added").prop("checked",!1),t(this).parents(".minicart-items").length&&t(document.body).trigger("removed_from_cart"),r.attr("data-cart-item-key",""));let a=function(t){let e="molongui_added_order_bump_([^;]+)="+t;return document.cookie.match(e)[1]}(o);c(a,o)}),t(document).on("wc_fragments_refreshed",function(t){e()})}(jQuery);